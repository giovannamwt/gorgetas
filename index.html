<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./index.css">
    <title>Document</title>
</head>
<body>
    <header>
        <img src="/images/logo.png" alt="">
    </header>
    <main>
        <h2>Insira o valor pago:</h2>
        <input type="number" placeholder="99,99" id="preco">
        <h2>Avalie o atendimento: </h2>
        <div id="avaliation">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" value="bom">Bom
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" value="regular" checked>
                Regular
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3" value="ruim">
                Ruim
            </div>
        </div>
        <button onclick="calcular()"><h2>Calcular Gorjeta</h2></button>
        <div id="resultado"></div>
    </main>
    <script>
        const getPreco = () => parseFloat(document.getElementById('preco').value);

        const getAvaliacao = () => document.querySelector('input[name="flexRadioDefault"]:checked').value;

        const calcularGorjeta = (preco, avaliacao, callback) => {
            let gorjeta = 0;

            if (isNaN(preco) || preco <= 0) {
                alert('Por favor, insira um valor válido para o preço.');
                return;
            }

            switch (avaliacao) {
                case 'bom':
                    gorjeta = preco * 0.10;
                    break;
                case 'regular':
                    gorjeta = preco * 0.05;
                    break;
                case 'ruim':
                    gorjeta = preco * 0;
                    break;
            }

            callback(gorjeta);
        };

        const mostrarResultado = (gorjeta) => {
            document.getElementById('resultado').innerHTML = `<h2>Gorjeta: R$ ${gorjeta.toFixed(2)}</h2>`;
        };

        const calcular = () => {
            const preco = getPreco();
            const avaliacao = getAvaliacao();
            calcularGorjeta(preco, avaliacao, mostrarResultado);
        };
    </script>
</body>
</html>
